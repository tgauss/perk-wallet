{"sections":[{"name":"Environment","items":[{"name":"NEXT_PUBLIC_SUPABASE_URL","status":"ok","details":"Present"},{"name":"NEXT_PUBLIC_SUPABASE_ANON_KEY","status":"ok","details":"Present"},{"name":"SUPABASE_SERVICE_ROLE_KEY","status":"ok","details":"Present"},{"name":"PERK_API_KEY","status":"ok","details":"Present"},{"name":"APP_EMULATOR_SECRET","status":"ok","details":"Present"},{"name":"PERK_WEBHOOK_SECRET","status":"ok","details":"Present"},{"name":"QR_SIGNING_SECRET","status":"ok","details":"Present"},{"name":"APPLE_PASS_TYPE_IDENTIFIER","status":"ok","details":"Present"},{"name":"APPLE_WEB_SERVICE_URL","status":"ok","details":"Present"},{"name":"APPLE_AUTH_TOKEN_SECRET","status":"ok","details":"Present"},{"name":"APPLE_PASS_CERT_P12_BASE64","status":"ok","details":"Present"},{"name":"APPLE_PASS_CERT_PASSWORD","status":"ok","details":"Present"},{"name":"GOOGLE_WALLET_ISSUER_ID","status":"ok","details":"Present"},{"name":"GOOGLE_WALLET_SERVICE_ACCOUNT_EMAIL","status":"ok","details":"Present"},{"name":"GOOGLE_WALLET_SERVICE_ACCOUNT_KEY","status":"ok","details":"Present"}]},{"name":"Supabase","items":[{"name":"Basic Connection","status":"fail","details":"Unknown error"},{"name":"Program Query","status":"ok","details":"Found program UUID: 3648cab8-a29f-4d13-9160-f1eab36e88bd"}]},{"name":"Schema","items":[{"name":"programs table","status":"fail","details":"Unknown error"},{"name":"templates table","status":"ok","details":"Missing columns: id, program_id, pass_kind, version, layout, assets"},{"name":"participants table","status":"ok","details":"Missing columns: perk_uuid, program_id, perk_participant_id, email, points, unused_points, status, profile_attributes, tag_list, updated_at, last_webhook_event_type, last_webhook_event_at, webhook_event_count"},{"name":"passes table","status":"ok","details":"Missing columns: perk_uuid, program_id, pass_kind, apple_serial, apple_device_tokens, google_object_id, last_hash, last_synced_at, last_error"},{"name":"jobs table","status":"ok","details":"Missing columns: id, kind, idem_key, payload, run_after, attempts, last_error, created_at"},{"name":"webhook_events table","status":"ok","details":"Missing columns: id, program_id, perk_program_id, event_type, event_id, participant_id, participant_email, participant_uuid, event_data, processed_at, created_at"},{"name":"RLS Policies","status":"ok","details":"No RLS policies (as expected)"}]},{"name":"Compatibility","items":[{"name":"Participant name columns","status":"ok","details":"Name derived from Perk only"},{"name":"Points display setting","status":"ok","details":"Defaulting to 'unused_points' in code"},{"name":"Apple device tokens","status":"ok","details":"Device push not persisted"}]},{"name":"Routes","items":[{"name":"Install token route","status":"ok","details":"Present"},{"name":"Perk webhook route","status":"ok","details":"Present"},{"name":"Points burst simulation","status":"ok","details":"Present"},{"name":"Admin interface","status":"ok","details":"Present"},{"name":"Wallet route probe","status":"ok","details":"HTTP 200"}]},{"name":"Flows","items":[{"name":"Install token flow","status":"ok","details":"HTTP 200: OK"}]},{"name":"Migrations","items":[{"name":"Local migrations","status":"ok","details":"2 local migration files"},{"name":"Applied migrations","status":"ok","details":"Cannot query schema_migrations"}]}],"timestamp":"2025-08-12T23:51:58.951Z","program_uuid":"3648cab8-a29f-4d13-9160-f1eab36e88bd"}